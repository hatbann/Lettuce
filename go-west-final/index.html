<!DOCTYPE html>
<html>
  <head>
    <title>Being Lettuce</title>
    <meta
      name="description"
      content="Nina West is the kindness in all of us, see it for yourself here. Made by the Coding Queen: Anna Lytical"
    />
    <script
      src="https://code.jquery.com/jquery-3.6.1.min.js"
      integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
      crossorigin="anonymous"
    ></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <!-- Twitter Card data -->
    <meta name="twitter:card" value="summary" />
    <!-- Open Graph data -->
    <meta property="og:title" content="Go West" />
    <meta property="og:type" content="article" />
    <meta
      property="og:url"
      content="https://anna-lytical.firebaseapp.com/go-west"
    />
    <meta
      property="og:image"
      content="https://anna-lytical.firebaseapp.com/go-west/og-img.png"
    />
    <meta
      property="og:description"
      content="Nina West is the kindness in all of us, see it for yourself here. Made by the Coding Queen: Anna Lytical"
    />
    <script type="text/javascript" src="face-api.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://fonts.googleapis.com/css?family=Give+You+Glory|Major+Mono+Display"
      rel="stylesheet"
    />
    <script src="https://apis.google.com/js/platform.js"></script>
    <link
      rel="shortcut icon"
      href="../assets/lettuce.ico"
      type="image/x-icon"
    />
    <style>
      .transparent {
  display: none;
  
}

.arrow{
  position: fixed;
  bottom: 30px;
  left: 320px;
  z-index: 200;
}
#messege{
  height: 100vh;
  position: absolute;
  z-index: 100;
  top: 0;
  left: 0;
}

#xBtn{
  width: 7vw;
  position: absolute;
  top: 30px;
  left: 320px;
  z-index: 200;
}


#star{
  width: 7vw;
  position: fixed;
  top: 30px;
  left: 320px;
  z-index: 200;
}

#captureBtn{
  border: none;
  background-color: #A9E14A;
  color: white;
  border-radius: 50%;
  padding: 10px 20px;
}
    </style>
  </head>
  <body>
    <img src="../assets/star.png" alt="" id="star" >
    <img src="../assets/Arrow.png" alt="" class="arrow" onclick="goImages()" />
    <img src="../assets/messege.png" alt="" id="messege" class="transparent">
    <img src="../assets/xBtn.png" alt="" id="xBtn" class="transparent">
    <div class="container">
      <div id="video-container">
        <video id="camera-stream" autoplay playsinline></video>
        <div id="camera-denied">
          Access to your camera was denied, please enable to experience Nina
          West in augmented reality, or just play with the soundboard below.
        </div>
        <canvas id="overlay"></canvas>
      </div>
      <span id="mood-detection"> </span>
      <h2>Everyone is becoming Lettuce<br />before they know it</h2>
      <p>모두는 어느새 양상추화되어 가고 있다</p>
      <p>당신도 양배추 심즈로 등록하시겠습니까?</p>
      <button type="button" id="captureBtn">등록하기</button>
    </div>
    <div id="capImg"></div>
    <script type="text/javascript" src="script.js"></script>
    <script>
      const store = {
  setImg: (img) => {
    localStorage.setItem('LettuceImg', JSON.stringify(img));
  },
  getImg: () => {
    return JSON.parse(localStorage.getItem('LettuceImg'));
  },
};



      $('#star').click(function(e){
  let star = $('#star');
  let xBtn = $('#xBtn');
  let msg = $('#messege');

  star.addClass('transparent');
  xBtn.removeClass('transparent');
  msg.removeClass('transparent');
});

$('#xBtn').click(function(e){
  let star = $('#star');
  let xBtn = $('#xBtn');
  let msg = $('#messege');

  star.removeClass('transparent');
  xBtn.addClass('transparent');
  msg.addClass('transparent');
})

  $('#captureBtn').on("click", function(){
    let video = $('#video-container')
    html2canvas(document.querySelector('#video-container')).then(canvas => {
      let total = [];
      if(store.getImg()!== null){
        total = store.getImg();
      }
      total.push(canvas.toDataURL());
      store.setImg(total);
      alert('축하합니다. 당신도 명예 양배추 심즈로 등록되셨습니다')
    })
  })


    </script>
    <script src="../lettuce.js"></script>
  </body>
</html>
